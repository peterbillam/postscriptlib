%!PS-Adobe-2.0
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%        This Postscript is Copyright (c) 2016, Peter J Billam          %
% Permission is granted  to any individual or institution to use, copy, %
% modify or redistribute this software, so long as it is not resold for %
% profit, and provided this notice is retained. It is provided "as is", %
% without any express or implied warranty.    http://www.pjb.com.au     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%EndComments
%%BeginProlog
(/home/pjb/ps/lib/transforms.ps) run
/xmax currentpagedevice (PageSize) get 0 get def
/ymax currentpagedevice (PageSize) get 1 get def
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
%%EndPageSetup
/Times-Bold  ymax .03 mul selectfont
  xmax .15 mul ymax .95 mul moveto (perspective_xy2uv  with no theta) show
/xh xmax .55  mul def
/yh ymax 0.27 mul def
0.8 setgray 0 0 xmax yh rectfill 0.5 setgray  % the ground
xh yh translate   % the vanishing-point must be 0,0

newpath /x0  xmax -.50 mul def   % = .05-.55 = -.50
/HelveticaBold  ymax .22 mul selectfont
% left of the vanishing-point, we start printing text at ::x0
x0 ymax  .55 mul moveto (HEMNHXWENZEYKHEMM) true charpath
x0 ymax  .35 mul moveto (EMNHXWENZEYKHEMMA) true charpath
x0 ymax  .15 mul moveto (MNHXWENZEYKHEMMAD) true charpath
x0 ymax -.05 mul moveto (MHXWENZEYKHEMMADX) true charpath
x0 ymax -.25 mul moveto (HXWENZEYKHEMMADXM) true charpath
[ x0 ] /perspective_xy2uv c_transform fill

% but right of the VP, we start the text at x0-stringwidth
newpath /x0 xmax .40 mul def
/HelveticaBold  ymax .22 mul selectfont
0 setgray
/x_start_of_string  x0 (OQCSU) stringwidth pop sub def
x_start_of_string  ymax  .55 mul moveto (QCSUO) true charpath
x_start_of_string  ymax  .35 mul moveto (OQCSU) true charpath
x_start_of_string  ymax  .15 mul moveto (UOQCS) true charpath
x_start_of_string  ymax -.05 mul moveto (SUOQC) true charpath
x_start_of_string  ymax -.25 mul moveto (CSUOQ) true charpath
[ x0 ] /perspective_xy2uv c_transform fill

showpage

%%Page: 2 2
%%BeginPageSetup
%%EndPageSetup
/Times-Bold  ymax .03 mul selectfont
  xmax .15 mul ymax .95 mul moveto (perspective_xy2uv  with theta) show
/xh xmax .55  mul def
/yh ymax 0.27 mul def
0.8 setgray 0 0 xmax yh rectfill 0.5 setgray  % the ground

/circle {
  2 index 0 index add 1 index moveto 0 360 arc
} def

xh yh translate   % the vanishing-point is now 0,0
% 0 0 10 circle fill

newpath /x0  xmax -.50 mul def   % = .05-.55 = -.50
/HelveticaBold  ymax .22 mul selectfont
% left of the vanishing-point, we start printing text at x0
x0 ymax  .55 mul moveto (HEMNHXWENZEYKHEMM) true charpath
x0 ymax  .35 mul moveto (EMNHXWENZEYKHEMMA) true charpath
x0 ymax  .15 mul moveto (MNHXWENZEYKHEMMAD) true charpath
x0 ymax -.05 mul moveto (MHXWENZEYKHEMMADX) true charpath
x0 ymax -.25 mul moveto (HXWENZEYKHEMMADXM) true charpath
[x0 30] /perspective_xy2uv c_transform fill

% but right of the VP, we start the text at x0-stringwidth
newpath /x0 xmax .40 mul def
/HelveticaBold  ymax .22 mul selectfont
0 setgray
/x_start_of_string  x0 (OQCSU) stringwidth pop sub def
x_start_of_string  ymax  .55 mul moveto (QCSUO) true charpath
x_start_of_string  ymax  .35 mul moveto (OQCSU) true charpath
x_start_of_string  ymax  .15 mul moveto (UOQCS) true charpath
x_start_of_string  ymax -.05 mul moveto (SUOQC) true charpath
x_start_of_string  ymax -.25 mul moveto (CSUOQ) true charpath
[x0 30] /perspective_xy2uv c_transform fill

showpage

%%Page: 3 3
%%BeginPageSetup
%%EndPageSetup

/rect {
  4 dict begin   [ /h /w /y /x ] { exch def } forall
  x y moveto  w 0 rlineto  0 h rlineto  0 w sub 0 rlineto  x y lineto closepath
  end
} def

newpath
0.8 setgray
/w xmax .04 mul def
xmax .005 mul setlinewidth
.03 .06 .93 {     /x exch xmax mul def
  .03 .04 .96 {  /y exch ymax mul def
    x y w w rect
  } for
} for
% [x_amplitude y_wavelength y_phase  y_amplitude x_wavelength x_phase]
/params [9 300 0  6 200 90] def
% params ==
params /sine_xy2uv c_transform fill

newpath
 % 10 145 moveto 100 145 lineto 300 145 lineto 5 80 145 lineto % closepath
10 205 moveto   15 5 580 { 205 lineto } for
0.5 setgray
% params ==
params /sine_xy2uv c_transform stroke
% a simple long lineto does not become wavy ; only the joinpoints get moved!

/Times-Bold  ymax .03 mul selectfont 0 setgray
  xmax .15 mul ymax .95 mul moveto (sine_xy2uv) show

showpage

%%EOF
